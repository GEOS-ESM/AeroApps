layout1: &LAYOUT1

  geometry: 320x240
  label: $stream
  no_logo: 1
  no_cbar: 1
  no_title: 1
  label: $stream
  bbox: 60 60 964 680

theme:

  plot:

    no2_all:
      long_name: NO2
      title: '$level hPa NO2'
      levels: [600]
      header: Forecast Initialized on $tm_start
      layout: *LAYOUT1
      panels:
        - {field: no2, stream: CAMS,  region: usa2, pos: 11}
        - {field: no2, stream: RAQMS, region: usa2, pos: 12, fcst_dt: 20180807T12, time_dt: 20180807T12}
        - {field: no2, stream: CAMchem, region: usa2, pos: 13, fcst_dt: 20180808T00, time_dt: 20180808T00}
        - {field: no2, stream: CAMS, region: usa2, pos: 21, label: NAAPS }
        - {field: no2, stream: RAQMS,region: usa2, pos: 22, fcst_dt: 20180807T12, time_dt: 20180807T12, label: ARQI}
        - {field: no2, stream: CAMchem, region: usa2, pos: 23, fcst_dt: 20180808T00, time_dt: 20180808T00, label: RAPchem}
        - {field: no2, stream: CAMS, region: usa2, pos: 31, label: WRFchem}
        - {field: no2, stream: RAQMS, region: usa2, pos: 32, fcst_dt: 20180807T12, time_dt: 20180807T12, label: HRRR}
        - {field: no2, stream: CAMchem, region: usa2, pos: 33, fcst_dt: 20180808T00, time_dt: 20180808T00, label: GEOS}
        - {field: no2, stream: CAMchem, region: usa2, pos: cbar, fcst_dt: 20180808T00, time_dt: 20180808T00, no_cbar: 0, cbar_only: 1, geometry: 1024x768 }


    aod:
      long_name: Aerosol AOD
      levels: [0]
      layers: [aod]
      title: 'Aerosol Optical Thickness'
      map:
        layers: [bluemarble01]

    pm25sfc:
      long_name: PM2.5 at surface
      levels:    [0]
      layers:    [pm25]
      title:     'Surface PM2.5'
      pm25:
        expr: _pm25sfc(z=1)
      map:
        layers:  [bluemarble01]

    pm25_smoke:
      long_name: PM2.5 smoke
      levels: [925,850,700,600]
      layers:    [pm25]
      title:     '$level hPa Smoke aerosol'
      pm25:
        expr: _pm25_smoke
      map:
        layers:  [bluemarble01]

    pm25:
      long_name: PM2.5 at pressure levels
      levels: [925,850,700,600]
      layers: [pm25]
      title: '$level hPa PM2.5'
      pm25:
        expr: _pm25
      map:
        layers: [bluemarble01]

    tcco:
      long_name: total column CO
      levels:  [0]
      layers:  [tcco]
      title: 'Total column CO'
      map:
        layers:   [bluemarble01]

    tcno:
      long_name: total column NO
      levels:  [0]
      layers:  [tcno]
      title: 'Total column NO'
      map:
        layers:   [bluemarble01]

    tcoc:
      long_name: total column OC
      levels:  [0]
      layers:  [tcoc]
      title: 'Total column OC'
      map:
        layers:   [bluemarble01]

    tcpm25:
      long_name: total column pm2.5
      levels:  [0]
      layers:  [tcoc]
      title: 'Total column PM2.5'
      tcoc:
        clevs: 0 0.02 0.05 0.1 0.2 0.5 1 2 5
        expr: _tcpm25*1e3
        cmin:
        cmax:
        cint:
        nsub: 20
        skip: 20
      map:
        layers:   [bluemarble01]

    am:
      long_name: Ammonium mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [am]
      title: '$level hPa ammonium aerosol'
      map:
        layers: [bluemarble01]

    su:
      long_name: Sulphate mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [su]
      title: '$level hPa sulphate aerosol'
      map:
        layers: [bluemarble01]

    du:
      long_name: Dust mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [du]
      title: '$level hPa dust aerosol'
      map:
        layers: [bluemarble01]

    ss:
      long_name: Sea salt mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [ss]
      title: '$level hPa sea salt aerosol'
      map:
        layers: [bluemarble01]

    oc:
      long_name: OC mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [oc]
      title: '$level hPa Organic Carbon'
      map:
        layers: [bluemarble01]

    bc:
      long_name: BC mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [bc]
      title: '$level hPa Black Carbon'
      map:
        layers: [bluemarble01]
    co:
      long_name: CO mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [co]
      title: '$level hPa CO'
      map:
        layers: [bluemarble01]

    co_smoke:
      long_name: CO smoke tracer mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [co]
      title: '$level hPa CO tracer for fire emissions'
      co:
        expr: _co_smoke
        clevs:
        cmin: 0.0
        cmax: 15.0
        cint: 1.0
      map:
        layers: [bluemarble01]

    smoke:
      long_name: smoke tracer at pressure levels
      levels: [925,850,700,600]
      layers: [smoke]
      title: '$level hPa smoke tracer'
      map:
        layers: [bluemarble01]
    no1:
      long_name: NO mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [no1]
      title: '$level hPa NO'
      map:
        layers: [bluemarble01]
    no2:
      long_name: NO2 mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [no2]
      title: '$level hPa NO2'
      map:
        layers: [bluemarble01]
    so2:
      long_name: SO2 mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [so2]
      title: '$level hPa SO2'
      map:
        layers: [bluemarble01]
    o3:
      long_name: O3 mixing ratio at pressure levels
      levels: [925,850,700,600]
      layers: [o3]
      title: '$level hPa O3'
      map:
        layers: [bluemarble01]

    am_lml:
      long_name: Ammonium mixing ratio at lowset model level
      levels: [0]
      layers: [am]
      title: 'Surafce ammonium aerosol'
      am:
        expr: _am_lml
      map:
        layers: [bluemarble01]

    su_lml:
      long_name: Sulphate mixing ratio at lowest model level
      levels: [0]
      layers: [su]
      title: 'Surface sulphate aerosol'
      su:
        expr: _su_lml
      map:
        layers: [bluemarble01]

    du_lml:
      long_name: Dust mixing ratio at lowest model level
      levels: [0]
      layers: [du]
      title: 'Surface dust aerosol'
      du:
        expr: _du_lml
      map:
        layers: [bluemarble01]

    ss_lml:
      long_name: Sea salt mixing ratio at lowest model level
      levels: [0]
      layers: [ss]
      title: 'Surface sea salt aerosol'
      ss:
        expr: _ss_lml
      map:
        layers: [bluemarble01]

    oc_lml:
      long_name: OC mixing ratio at lowest model level
      levels: [0]
      layers: [oc]
      title: 'Surface Organic Carbon'
      oc:
        expr: _oc_lml
      map:
        layers: [bluemarble01]

    bc_lml:
      long_name: BC mixing ratio at lowest model level
      levels: [0]
      layers: [bc]
      title: 'Surface Black Carbon'
      bc:
        expr: _bc_lml
      map:
        layers: [bluemarble01]

    co_lml:
      long_name: CO mixing ratio at lowest model level
      levels: [0]
      layers: [co]
      title: 'Surface CO'
      co:
        expr: _co_lml
      map:
        layers: [bluemarble01]
    co_smoke_lml:
      long_name: CO smoke tracer mixing ratio at lowest model level
      levels: [0]
      layers: [co_smoke]
      title: 'Surface CO from biomass burning'
      co_smoke:
        expr: _co_smoke_lml
      map:
        layers: [bluemarble01]
    smoke_lml:
      long_name: smoke tracer at lowest model level
      levels: [0]
      layers: [smoke]
      title: 'Surafce smoke tracer'
      smoke:
        expr: _smoke_lml
      map:
        layers: [bluemarble01]
    no1_lml:
      long_name: NO mixing ratio at lowest model level
      levels: [0]
      layers: [no1]
      title: 'Surface NO'
      no1:
        expr: _no1_lml
      map:
        layers: [bluemarble01]
    no2_lml:
      long_name: NO2 mixing ratio at lowest model level
      levels: [0]
      layers: [no2]
      title: 'Surface NO2'
      no2:
        expr: _no2_lml
      map:
        layers: [bluemarble01]
    so2_lml:
      long_name: SO2 mixing ratio at lowest model level
      levels: [0]
      layers: [so2]
      title: 'Surface SO2'
      so2:
        expr: _so2_lml
      map:
        layers: [bluemarble01]
    o3_lml:
      long_name: O3 mixing ratio at lowest model level
      levels: [0]
      layers: [o3]
      title: 'Surface O3'
      o3:
        expr: _o3_lml
      map:
        layers: [bluemarble01]


  layer:

    aod:
      gxout: shaded
      expr: _aod
      cbar: Warm01_cmap
      clevs: 0 0.04 0.07 0.1 0.15 0.2 0.3 0.4 0.6 0.8 1 1.2 1.5 1.8
      cmin:
      cmax:
      cint:
      nsub: 5
      skip: 5
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.103 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    pm25:
      gxout: shaded
      expr: _pm25(z=1)
      cbar: Warm01_cmap
      cbunits: 'ugm`a-3`'
      clevs: 0 0.1 0.2 0.5 10 20 40 60 100 150 200
      cmin:
      cmax:
      cint:
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.103 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    tcco:
      gxout: shaded
      expr: _tcco*1e3
      cbar: Warm01_cmap
      cbunits: 'gm`a-2'
      cmin: 0.5
      cmax: 2.5
      cint: 0.25
      nsub: 10
      skip: 5
      scale: exp_scale
      alpha:
        - 0.000 0.000 0.000
        - 0.143 0.000 0.000
        - 0.190 1.000 1.000
        - 1.000 1.000 1.000

    tcno:
      gxout: shaded
      expr: _tcno*1e9
      cbar: Warm01_cmap
      cbunits: 'ugm`a-2'
      clevs: 2 5 10 20 50 100 200 500 1000
      cmin:
      cmax:
      cint:
      nsub: 10
      skip: 10
      scale: exp_scale
      alpha:
        - 0.000 0.000 0.000
        - 0.143 0.000 0.000
        - 0.190 1.000 1.000
        - 1.000 1.000 1.000

    tcoc:
      gxout: shaded
      expr: _tcoc*1e3
      cbar: Warm01_cmap
      cbunits: 'gm`a-2'
      clevs: 0 0.002 0.005 0.01 0.02 0.05 0.1 0.2 0.5 1 2 5
      cmin:
      cmax:
      cint:
      nsub: 10
      skip: 10
      alpha:
        - 0.000 0.000 0.000
        - 0.103 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    smoke:
      gxout: shaded
      expr: _smoke
      cbar: Warm01_cmap
      cmin: 0
      cmax: 5.0
      cint: 0.05
      cbunits: ' '
      nsub: 2
      skip: 10
      scale: exp_scale
      alpha:
        - 0.000 0.000 0.000
        - 0.143 0.000 0.000
        - 0.190 1.000 1.000
        - 1.000 1.000 1.000

    am:
      gxout: shaded
      expr: _am
      cbar: Warm01_cmap
      cmin: 0
      cmax: 1.0
      cint: 0.02
      cbunits: 'ug m`a-3'
      nsub: 2
      skip: 10
      scale: exp_scale
      alpha:
        - 0.000 0.000 0.000
        - 0.143 0.000 0.000
        - 0.190 1.000 1.000
        - 1.000 1.000 1.000

    su:
      gxout: shaded
      expr: _su
      cbar: Warm01_cmap
      clevs:  0.1 0.2 0.5 1 2 5 10 20 50 100
      cmin:
      cmax:
      cint:
      cbunits: 'ug m`a-3'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.103 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    du:
      gxout: shaded
      expr: _du
      cbar: Warm01_cmap
      clevs: 0 0.05 0.1 0.2 0.5 1 2 5 10 20 50 100
      cmin:
      cmax:
      cint:
      cbunits: 'ug m`a-3'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    ss:
      gxout: shaded
      expr: _ss
      cbar: Warm01_cmap
      clevs: 0 0.02 0.05 0.1 0.2 0.5 1 2 5 10 20 50 100 200 300
      cmin:
      cmax:
      cint:
      cbunits: 'ug m`a-3'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    oc:
      gxout: shaded
      expr: _oc
      cbar: Warm01_cmap
      clevs: 0 0.1 0.2 0.5 1 2 5 10 20 50 100
      cmin:
      cmax:
      cint:
      cbunits: 'ug m`a-3'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    bc:
      gxout: shaded
      expr: _bc
      cbar: Warm01_cmap
      clevs: 0 0.05 0.1 0.2 0.5 1 2 5 10 20 50 100
      cmin:
      cmax:
      cint:
      cbunits: 'ug m`a-3'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    co:
      gxout: shaded
      expr: _co
      cbar: Warm01_cmap
      clevs: 0 60 80 100 120 140 150 200 250 300 400 500 700
      cmin:
      cmax:
      cint:
      cbunits: 'ppbv'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    no1:
      gxout: shaded
      expr: _no1
      cbar: Warm01_cmap
      clevs: 0 0.001 0.002 0.005 0.01 0.02 0.05 0.1 0.2 0.5 1 2 5 10 20 50
      cmin:
      cmax:
      cint:
      cbunits: 'ppbv'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    no2:
      gxout: shaded
      expr: _no2
      cbar: Warm01_cmap
      clevs: 0 0.02 0.05 0.1 0.2 0.5 1 2 5 10 20 50
      cmin:
      cmax:
      cint:
      cbunits: 'ppbv'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    so2:
      gxout: shaded
      expr: _so2
      cbar: Warm01_cmap
      clevs: 0 0.02 0.05 0.1 0.2 0.5 1 2 5 10 20 50
      cmin:
      cmax:
      cint:
      cbunits: 'ppbv'
      nsub: 10
      skip: 10
      scale:
      alpha:
        - 0.000 0.000 0.000
        - 0.113 0.000 0.000
        - 0.170 1.000 1.000
        - 1.000 1.000 1.000

    o3:
      gxout: shaded
      expr: _o3
      cbar: Warm01_cmap
      cmin: 50.0
      cmax: 200.0
      cint: 2.5
      cbunits: 'ppbv'
      nsub: 2
      skip: 10
      scale: exp_scale
      alpha:
        - 0.000 0.000 0.000
        - 0.143 0.000 0.000
        - 0.190 1.000 1.000
        - 1.000 1.000 1.000
